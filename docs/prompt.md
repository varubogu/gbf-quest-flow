# 概要
グラブルの行動アシスタントアプリを作ってください

# 目的
グラブルにはこのターンにこの行動をするという目標があります。
しかし、PC、タブレットはGoogleスプレッドシートで良いですが、スマホ向けに最適化されたレイアウトになっていません。
そこで、スプレッドシートと似た見栄えでよりスマホ向けに最適化した行動表を作ります。
完成まではサンプルデータを読み込んだことにして進めます。 （データはJSONで詳細は後述します）

# 作成にあたっての要求
- コードは将来的に手動で変更やGitHubで管理することを考えています。
- 設計書、説明書のmarkdownベースのドキュメントも制作してください。（docsディレクトリ）
- 説明書についてはSSGでWebページとして出力もします。
- コンポーネントの構成についてはアトミックデザインを採用します。
  - アトミックデザインとは、小さなコンポーネントを組み合わせて大きなコンポーネントを作るデザイン手法です。
  - 原子（Atom）部品の最小構成
  - 分子（Molecule）部品の組み合わせで１つのコンポーネントを作成
  - 有機体（Organism）分子の組み合わせで１つのエリアを作成
  - テンプレート（Template）有機体の組み合わせで１つのページを作成
  - ページ（Page）テンプレートとデータの組み合わせで具体的なページを作成
- PWAにも対応し、PCやスマホでも一つのアプリとして動作します。
- 静的解析とフォーマッターについて、ESLintとPrettierを使用する

# 採用技術について

- 開発環境はCursor、Dev Container（WSL2+DockerまたはOrbStack）を使用する
- ランタイムはBun、Astro.js(SSG)とReact(CSR)ベースで作成する
- レイアウトはTailwind CSS、shadcn/uiを使用する
- 将来的にはCloudflare Pagesとして動作させることを想定


# 機能
- 外部ファイルを読み込み、表示できる機能を持ちます。
- 今の画面の情報をファイル化してダウンロードもできます。
- 編集機能を備えています。ハンバーガーメニューから「編集」で編集モードに以降し、各種データの部分がテキスト入力が可能になります。編集終了時、自動的にファイルをダウンロードします。
- サーバーとしては状態を持ちません（SSG+CSRで考えています）
- 行動表の中で「現在の行」を定義する。現在の行より前の行は薄暗くして、現在どこの行にいるかわかりやすくします。
- 上下ボタンを設置、押されたら「現在の行」を移動します。（誤爆するおそれがあるので行のクリックでは移動しません）
- スマホの場合、横向きを想定しています。

# モードについて

- 未読込の状態
- 読込済の状態
- 編集中の状態

# ページのデザインについて

## 未読込の状態のページ構成

- ヘッダ（スクロールしない、常に固定表示）
  - ハンバーガーメニューボタン
  - ページのタイトル「グラブル行動表」
- 画面中央
  - データ読み込み（ハンバーガーメニューの項目と機能は同じ）


## 読込済のページ構成
- ヘッダ（スクロールしない、常に固定表示）
  - ハンバーガーメニューボタン
  - データのタイトル
    - タイトルをクリックするとアコーディオンが開閉し、作成者、更新日、動画URLが表示される
- 画面上部（フレーム、ヘッダを除いた50%の高さ）
  - 「常に意識すること」を表示
- 画面下部（フレーム、ヘッダを除いた50%の高さ）
  - 行動表（ヘッダはスクロールせず固定、データはスクロール可能）
    - 現在位置移動の上下ボタン（→または
※フレームはスクロールせず、その中身はスクロール可能とする

##

# ハンバーガーメニューについて

- データ読み込み（ファイル選択ダイアログ）
- データダウンロード
- 編集（編集モードへ）
- 編成確認（キャラ、武器、召喚石の情報を見る）
- その他の情報を見る（作成者、更新日、動画URLなど）
- オプション
- 説明書


# オプションについて

- 言語
  - 日本語
  - English
- 上下ボタンの配置（右・左）
- 背景色
- フォントサイズ
- フォントカラー
- フォントファミリー



# 表について
- ヘッダ部分の上に「上下ボタン」を用意する（オプションによって右寄せ、または左寄せ）
- ヘッダ部分までをはスクロール固定
- 表の中で「現在の行」を定義する


表形式で

列の内容と長さの目安については
- HP（全角5文字）
- 予兆（全角15文字）
- 奥義（全角5文字）
- ガード（全角5文字）
- 行動（全角30文字）
- 備考（全角20文字）

なおいずれも改行可能とします。
文字がはみ出る場合は次の行に表示させます。


# データファイルについて

基本的にJSON形式で以下の情報を持ちます。
多くの人が扱えるよう、JSONファイル以外にもGoogleスプレッドシートやクラウドストレージからの読み込みにも対応します。
organization（編成）とflow（フローチャート）の中について、型は全て文字列かオブジェクト型です。

sample_data.jsonを参照してください。
