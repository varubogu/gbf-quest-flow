---
import { getCollection } from "astro:content";
// Reactコンポーネントとして描画
import BaseLayout from "@/layouts/BaseLayout.astro";
import BodyLayout from "@/layouts/BodyLayout";
import useFlowStore from "@/stores/flowStore";

export async function getStaticPaths() {
    const entries = await getCollection("flows");

    return entries.map((entry) => {
        const filename = entry.id.split("/").pop();
        const slug = filename?.replace(".json", "") ?? "";
        return {
            params: {
                slug,
            },
            props: {
                entry,
            },
        };
    });
}

const { entry } = Astro.props;
const initialData = entry.data;
---

<BaseLayout>
    <BodyLayout client:load initialData={initialData} />
</BaseLayout>

